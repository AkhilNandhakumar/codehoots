<!-- This page is illustrative and contains ideas about HTML formatting -->
<!DOCTYPE HTML>
<!-- Signals to the Layout Dialect which layout should be used to decorate this View -->

<head>
    <title>Codehoots</title>
    <style>

        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');

        :root {

            font-family: Impact, monospace, sans-serif !important;
            font-size: 3vw;

        }

        html, body {

            padding: 0;
            margin: 0;
            overflow: hidden; /* Remove horizontal scrollbar that can appear if the conditions are right*/
            background: #5C3260;
            height: 100vh !important;

        }

        .site-container {

            display: grid;
            grid-template-columns: repeat(6,1fr);
            height: 100%;
            grid-template-rows: 2rem 1fr;

        }

        .noscript-message {

            background-color: red;
            color: white;
            padding: 1rem;
            font-weight: bold;

        }

        .answer-wrapper {

            grid-row: 2 / 2;
            grid-column: 4 / 7;
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            grid-gap: 1rem;
            padding: 1rem 1rem 1rem 0.5rem;
            color: white;
            font-size: 1.5vw;

        }

        .mc-answer {

            padding: 0.25rem;
            border-radius: 0.25rem;
            transform: scale(1);
            transition-duration: 0.3s;
            box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;

        }

        .mc-answer:hover {
            
            position: relative;
            color: white;
            cursor: pointer;
            animation: shake 1.3s;
            animation-iteration-count: infinite;
            box-shadow: rgba(255, 255, 255, 0.16) 0px 0rem 2rem, rgb(0, 0, 0) 0px 0px 0px 0.3rem;
        }

        #mc-0 {

            background-color: #D4261B;
            border: #FF3F33 0.4rem solid;
            text-shadow: 0 1px 0 #FF3F33,
                     0 20px 30px rgba(0, 0, 0, 0.5);

        }

        #mc-1 {

            background-color: #169B00;
            border: #1FDA01 0.4rem solid;
            text-shadow: 0 1px 0 #1FDA01,
                     0 20px 30px rgba(0, 0, 0, 0.5);


        }

        #mc-2 {

            background-color: #0070D7;
            border: #339DFF 0.4rem solid;
            text-shadow: 0 1px 0 #339DFF,
                     0 20px 30px rgba(0, 0, 0, 0.5);

        }

        #mc-3 {

            background-color: #67239D;
            border: #9C34EE 0.4rem solid;
            text-shadow: 0 1px 0 #9C34EE,
                     0 20px 30px rgba(0, 0, 0, 0.5);

        }

        #codehoot-title {

            display: flex;
            background-color: white;
            grid-row: 1/1;
            grid-column: 1/7;
            border-radius: 0px 0px 0.4rem 0.4rem;
            box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
            padding: 0.25rem;
            align-items: center;
            vertical-align: center;
            justify-content: center;
            text-shadow: 0 1px 0 #d4d4d4, 
                     0 20px 30px rgba(0, 0, 0, 0.5);

        }

        #mc-question {

            position: relative;
            display: flex;
            flex-direction: column;
            background-color: #714575;
            grid-row: 2/2;
            grid-column: 2/4;
            border-radius: 0.4rem;
            margin: 1rem 1rem 1rem 0.25rem;
            padding: 0.5rem 0.25rem 0.25rem 0.25rem;
            vertical-align: center;
            justify-content: center;
            justify-self: center;
            align-self: center;
            text-align: left;
            color: white;
            font-size: 1vw;
            height: calc(100% - 2rem);
            width: calc(100% - 1rem);
            text-shadow: 0 1px 0 #5C3260, 0 2px 0 #5C3260,
                     0 20px 30px rgba(0, 0, 0, 0.5);

        }

        #mc-hud {

            position: relative;
            display: grid;
            background-color: #714575;
            grid-row: 2/2;
            grid-column: 1/1;
            border-radius: 0rem 0.4rem 0.4rem 0rem;
            margin: 0.6rem 1rem 0.6rem 0;
            padding: 0.5rem 0.25rem 0.25rem 0.25rem;
            grid-template-columns: 1fr;
            grid-template-rows: repeat(3, 1fr);
            color: white;

        }

        #mc-hud-timer {

            display: flex;
            align-items: center;
            justify-content: center;
            align-self: center;
            justify-self: center;
            background-color: #D4261B;
            border: #FF3F33 0.4rem solid;
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
            text-shadow: 0 1px 0 #FF3F33, 0 2px 0 #FF3F33,
                     0 20px 30px rgba(0, 0, 0, 0.5);
            animation: none;

        }

        #mc-hud-score {

            display: flex;
            justify-content: center;
            flex-direction: column;
            align-items: center;
            align-self: center;
            justify-self: center;
            text-shadow: 0 1px 0 #5C3260, 0 2px 0 #5C3260,
                     0 20px 30px rgba(0, 0, 0, 0.5);

        }

        #mc-hud-skip {
            
            display: flex;
            align-self: center;
            justify-self: center;
            align-items: center;
            justify-content: center;
            background-color: #D4261B;
            border: #FF3F33 0.4rem solid;
            border-radius: 0.4rem;
            height: 1.75rem;
            width: 3rem;
            box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
            text-shadow: 0 1px 0 #FF3F33, 0 2px 0 #FF3F33,
                     0 20px 30px rgba(0, 0, 0, 0.5);
            transition-duration: 0.25s;
            cursor: pointer;

        }

        #mc-hud-skip:hover {

            transform: scale(1.1);

        }

        .code {

            white-space: pre;

        }

        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg) scale(1); }
            10% { transform: translate(-1px, -2px) rotate(-1deg) scale(1.05); }
            20% { transform: translate(-3px, 0px) rotate(1deg) scale(1.1); }
            30% { transform: translate(3px, 2px) rotate(0deg) scale(1.05); }
            40% { transform: translate(1px, -1px) rotate(1deg) scale(1); }
            50% { transform: translate(-1px, 2px) rotate(-1deg) scale(1); }
            60% { transform: translate(-3px, 1px) rotate(0deg) scale(1.05); }
            70% { transform: translate(3px, 1px) rotate(-1deg) scale(1.1); }
            80% { transform: translate(-1px, -1px) rotate(1deg) scale(1.05); }
            90% { transform: translate(1px, 2px) rotate(0deg) scale(1); }
            100% { transform: translate(1px, 1px) rotate(0deg) scale(1); }
        }

        @keyframes timershake {
            
            0% { transform: scale(1); }
            5% { transform: scale(1.05); }
            10% { transform: scale(1.1); }
            15% { transform: scale(1.05); }
            20% { transform: scale(1); }
            25% { transform: scale(1); }
            30% { transform: scale(1); }
            100% { transform: scale(1); }
        }

    </style>
</head>

<body>

    <!-- Warning message for users who have disabled JavaScript -->
    <noscript>

        <!-- Hides site content -->
        <style type="text/css">

            .site-container { display: none; } 
            html { background-color: white; }

        </style>

        <!-- Noscript Message -->
        <div class='noscript-message'>

            Who tries to access <u> Codehoot.it </u> without javascript enabled? Good luck with that.
            
        </div>

    </noscript>

    <div class="site-container">

        <div id="codehoot-title">

            <span> Arrays and Lists by John Mortensen </span>

        </div>

        <div id="mc-hud">

            <div id="mc-hud-timer">

                <span> 59 </span>

            </div>

            <div id="mc-hud-score">

                <span>Points:</span>
                <span>1.32k</span>

            </div>

            <div id="mc-hud-skip">
                <span> Skip </span>
            </div>

        </div>

        <div id="mc-question">

        </div>

        <div class="answer-wrapper"> 

            <div class="mc-answer" id="mc-0"> 
            </div>

            <div class="mc-answer" id="mc-1"> 
            </div>

            <div class="mc-answer" id="mc-2"> 
            </div>

            <div class="mc-answer" id="mc-3"> 
            </div>

        </div>

    </div>

    <script>

        let sudodata = [
            {

                id: 1,
                content1: "Consider the following code:",
                code1: "for (int i = 0; i < 10; i++) {\n\tSystem.out.println(i);\n}",
                content2: "The last number output to the console will be 10.\nIf you change the 10 to 5, what will happen?",
                code2: "for (int i = 0; i < 5; i++) {\n\tSystem.out.println(i);\n}",
                content3: "Make sure to include the semicolon at the end of the line.",
                hint: "Think about how the for loop works and what the condition is.",
                answer1: "The last number output to the console will be 5.",
                answer2: "The last number output to the console will be 4.",
                answer3: "The last number output to the console will be 6.",
                answer4: "The last number output to the console will be 7.",
                points: 100,
                time: 75

            },
            {

                id: 1,
                content1: "You seem to enjoy coding, so consider the following code:",
                code1: "for (int i = 0; i < 10; i++) {\n\tSystem.out.println(-i);\n}",
                content2: "The last number output to the console will be 10.\nIf you change the 10 to 5, what will happen?",
                code2: "for (int i = 0; i < 5; i++) {\n\tSystem.out.println(-i);\n}",
                content3: "Make sure to include the semicolon at the end of the line.",
                hint: "Think about how the for loop works and what the condition is.",
                answer1: "The last number output to the console will be -5.",
                answer2: "The last number output to the console will be -4.",
                answer3: "The last number output to the console will be -6.",
                answer4: "The last number output to the console will be -7.",
                points: 10000,
                time: 999

            }
        ]

        let questionData = undefined;
        let correctAnswer = undefined;
        let questionPoints = undefined;
        let time = 0;
        let totalPoints = 0;

        function updateCurrentQuestion() {

            let randomIndex = Math.floor(Math.random() * questionData.length);
            questionData = questionData[randomIndex];
            
            document.getElementById("mc-question").innerHTML =
                "<span class='questionText'>" + questionData.content1 + "</span>" + "<br>" +
                "<pre class='code'>" + questionData.code1.replace(/\\n/g, "<br>").replace(/\\t/g, "&nbsp;&nbsp;") + "</pre>" + "<br>" +
                "<span class='questionText'>" + questionData.content2 + "</span>" +"<br>" +
                "<pre class='code'>" + questionData.code2.replace(/\\n/g, "<br>").replace(/\\t/g, "&nbsp;&nbsp;") + "</pre>" + "<br>" +
                "<span class='questionText'>" + questionData.content3; + "</span>"

            let answersBuffer = [questionData.answer1, questionData.answer2, questionData.answer3, questionData.answer4];

            for (let i = 0; i < 4; i++) {

                let randomAnswerIndex = Math.floor(Math.random() * answersBuffer.length);

                document.getElementById("mc-" + i).innerHTML = answersBuffer[randomAnswerIndex];

                if (answersBuffer[randomAnswerIndex] == questionData.answer1) {

                    correctAnswer = i;

                }

                answersBuffer.splice(randomAnswerIndex, 1);

            }

            time = parseInt(questionData.time);
            //document.getElementById("mc-hud-score").innerHTML = "<span>Points:</span>" + "<span>" + questionData.points + "</span>";
            questionPoints = parseInt(questionData.points);

        }

        // Fetch data from https://codersbackend.tk/api/questions
        function setQuestionData() {

            // Fetch data from API
            fetch('https://codersbackend.tk/api/questions/')
            .then(response => response.json())
            .then(data => {

                questionData = sudodata//data

                updateCurrentQuestion();

            });

        }

        setQuestionData();

        let start = Date.now();

        document.getElementById("mc-hud-timer").style.animation = "timershake 1s infinite"

        setInterval(()=>{

            document.getElementById("mc-hud-timer").innerHTML = Math.floor((start - Date.now())/1000 + time)

        }, 10);

    </script>
    
</th:block>
</body>

</html>